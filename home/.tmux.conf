# On my laptop, set prefix to Ctrl-Space and set mouse mode on
if-shell "[ $(hostname) = ct-lt-02087 ]" \
	"unbind C-b; \
	set -g prefix C-Space; \
	bind Space send-prefix; \
	set -g mouse on"

set-window-option -g mode-keys vi

# Double/Triple click
# See https://stackoverflow.com/a/46638561/2203114
# Double LMB Select & Copy (Word)
bind-key -T copy-mode-vi DoubleClick1Pane \
    select-pane \; \
    send-keys -X select-word-no-clear
bind-key -n DoubleClick1Pane \
    select-pane \; \
    copy-mode -M \; \
    send-keys -X select-word

# Triple LMB Select & Copy (Line)
bind-key -T copy-mode-vi TripleClick1Pane \
    select-pane \; \
    send-keys -X select-line
bind-key -n TripleClick1Pane \
    select-pane \; \
    copy-mode -M \; \
    send-keys -X select-line

set-option -g status-right '%a %F %H:%M '

# Stop garbage in gnome-terminal, see `man tmux` /set-clipboard
# See https://unix.stackexchange.com/a/349020
set-option -s set-clipboard off

# Manage my own plugins using git submodules.
# Don't bother with tmux-plugin-manager because:
# 1. You can't automate the install on new machines - you have to press I to
#    install.
# 2. It is inconsistent with vim plugin management
run-shell ~/.tmux/plugins/tmux-pain-control/pain_control.tmux
run-shell ~/.tmux/plugins/tmux-sensible/sensible.tmux
run-shell ~/.tmux/plugins/tmux-open/open.tmux
run-shell ~/.tmux/plugins/tmux-yank/yank.tmux
